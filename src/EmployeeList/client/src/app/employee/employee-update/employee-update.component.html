<div class="container contatiner-fluid">
  <form
    [formGroup]="employeeForm"
    autocomplete="off"
    novalidate
    (ngSubmit)="updateEmployee(employeeForm.value)"
  >
    <div class="form-group row">
      <label for="name" class="control-label col-md-2">Employee Name: </label>
      <div class="col-md-5">
        <input
          type="text"
          formControlName="name"
          id="name"
          class="form-control"
        />
      </div>
      <div class="col-md-5">
        <em *ngIf="validateControl('name') && hasError('name', 'required')"
          >A name is required</em
        >
        <em *ngIf="validateControl('name') && hasError('name', 'maxlength')"
          >Maximum allowed length is 60 characters.</em
        >
      </div>
    </div>

    <div class="form-group row">
      <label for="email" class="control-label col-md-2"
        >Employee's Email:
      </label>
      <div class="col-md-5">
        <input
          type="text"
          formControlName="email"
          id="email"
          class="form-control"
        />
      </div>
      <div class="col-md-5">
        <em *ngIf="validateControl('email') && hasError('email', 'required')"
          >A valid email is required</em
        >
        <em *ngIf="validateControl('email') && hasError('email', 'maxlength')"
          >Maximum allowed length is 100 characters.</em
        >
      </div>
    </div>

    <div class="form-group row">
      <label for="position" class="control-label col-md-2">Position: </label>
      <div class="col-md-5">
        <input
          type="text"
          formControlName="position"
          id="position"
          class="form-control"
        />
      </div>
    </div>

    <div class="form-group row">
      <label for="startDate" class="control-label col-md-2">Start Date: </label>
      <div class="col-md-5">
        <input
          type="text"
          formControlName="startDate"
          id="startDate"
          class="form-control"
        />
      </div>

      <div class="col-md-5">
        <em
          *ngIf="
            validateControl('startDate') && hasError('startDate', 'required')
          "
          >A date is required</em
        >
      </div>
    </div>

    <div class="col-md-5 offset-md-4">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!employeeForm.valid"
      >
        Update
      </button>

      <button
        type="button"
        class="btn btn-danger"
        (click)="redirectToEmployeeList()"
      >
        Cancel
      </button>
    </div>
  </form>

  <app-success-modal
    [modalHeaderText]="'Success message'"
    [modalBodyText]="'Action completed successfully'"
    [okButtonText]="'OK'"
    (redirectOnOK)="redirectToEmployeeList()"
  >
  </app-success-modal>

  <app-error-modal
    [modalHeaderText]="'Error message'"
    [modalBodyText]="errorMessage"
    [okButtonText]="'OK'"
  >
  </app-error-modal>

</div>
